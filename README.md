# S21_Decimal

## Contents

1. [Introduction](#introduction)
2. [Chapter I](#chapter-i) \
    2.1. [Information](#information)
3. [Chapter II](#chapter-ii) \
    3.1. [Part 1](#part-1-реализация-функции-библиотеки-decimalh)


## Introduction

В этом проекте вам предстоит реализовать библиотеку s21_decimal.h на языке С. Эта библиотека добавляет тип "decimal", который критически важен для финансовых расчетов, где недопустимы погрешности вычислений, свойственные типам с плавающей точкой. Проект поможет вам разобраться с задачами обработки финансовой информации и структурного подхода.

## Chapter I

## Information

Тип Decimal представляет десятичные числа в диапазоне от положительных до отрицательных 79,228,162,514,264,337,593,543,950,335. Decimal подходит для финансовых расчетов, требующих высокой точности и отсутствия ошибок округления.

### Двоичное представление

Decimal состоит из 1-разрядного знака, 96-разрядного целого числа и коэффициента масштабирования, определяющего десятичную точку. Представление реализуется как массив из 4-х 32-разрядных целых чисел:

```c
typedef struct {
    int bits[4];
} s21_decimal;
```

### Арифметические операторы

| Оператор | Функция |
| --- | --- |
| Сложение | int s21_add(s21_decimal value_1, s21_decimal value_2, s21_decimal *result) |
| Вычитание | int s21_sub(s21_decimal value_1, s21_decimal value_2, s21_decimal *result) |
| Умножение | int s21_mul(s21_decimal value_1, s21_decimal value_2, s21_decimal *result) |
| Деление | int s21_div(s21_decimal value_1, s21_decimal value_2, s21_decimal *result) |

Коды ошибок:
- 0 - OK
- 1 - число слишком велико/мало
- 2 - деление на 0

### Операторы сравнения

| Оператор | Функция |
| --- | --- |
| Меньше | int s21_is_less(s21_decimal, s21_decimal) |
| Меньше или равно | int s21_is_less_or_equal(s21_decimal, s21_decimal) |
| Больше | int s21_is_greater(s21_decimal, s21_decimal) |
| Больше или равно | int s21_is_greater_or_equal(s21_decimal, s21_decimal) |
| Равно | int s21_is_equal(s21_decimal, s21_decimal) |
| Не равно | int s21_is_not_equal(s21_decimal, s21_decimal) |

Возвращаемое значение:
- 0 - FALSE
- 1 - TRUE

### Преобразователи

| Преобразователь | Функция |
| --- | --- |
| Из int | int s21_from_int_to_decimal(int src, s21_decimal *dst) |
| Из float | int s21_from_float_to_decimal(float src, s21_decimal *dst) |
| В int | int s21_from_decimal_to_int(s21_decimal src, int *dst) |
| В float | int s21_from_decimal_to_float(s21_decimal src, float *dst) |

Возвращаемое значение:
- 0 - OK
- 1 - ошибка конвертации

### Другие функции

| Описание | Функция |
| --- | --- |
| Округление вниз | int s21_floor(s21_decimal value, s21_decimal *result) |
| Округление до ближайшего | int s21_round(s21_decimal value, s21_decimal *result) |
| Усечение дробной части | int s21_truncate(s21_decimal value, s21_decimal *result) |
| Изменение знака | int s21_negate(s21_decimal value, s21_decimal *result) |

Возвращаемое значение:
- 0 - OK
- 1 - ошибка вычисления

## Chapter II

## Part 1. Реализация функции библиотеки decimal.h

Необходимо реализовать функции библиотеки, описанные выше:

- Код должен быть написан на языке С стандарта C11 с использованием компилятора gcc.
- Код библиотеки должен находиться в папке src в ветке develop.
- Избегайте устаревших конструкций языка и библиотечных функций.
- Код должен соответствовать Google Style.
- Оформите решение как статическую библиотеку с названием *s21_decimal.a* (с заголовочным файлом s21_decimal.h).
- Библиотека должна быть разработана в соответствии с принципами структурного программирования.
- Перед каждой функцией используйте префикс s21_.
- Подготовьте полное покрытие unit-тестами функций библиотеки с помощью библиотеки Check.
- Unit-тесты должны покрывать не менее 80% каждой функции.
- Предусмотрите Makefile для сборки библиотеки и тестов (с целями all, clean, test, s21_decimal.a, gcov_report).
- В цели gcov_report должен формироваться отчет gcov в виде HTML-страницы.
- При реализации decimal ориентируйтесь на двоичное представление с целочисленным массивом `bits`, как указано в примере выше.
- Запрещено использование типа __int128.
- Поддержка чисел от -79,228,162,514,264,337,593,543,950,335 до +79,228,162,514,264,337,593,543,950,335.
